<%- layout("/layouts/boilerplate.ejs") %>


<button class="back-button" onclick="goBack()">
  <i class="fas fa-arrow-left"></i>
</button>

<div class="login-container">
  <div class="login-wrapper">
    <div class="login-content">
      <div class="login-header">
        <i class="fas fa-user-circle"></i>
        <h2>Welcome Back</h2>
        <p>Please login to your account</p>
      </div>

      <form action="/login" method="POST" class="login-form needs-validation" novalidate>
        <input type="hidden" name="redirect" value="<%= redirectUrl %>">
        <div class="form-group">
          <label for="username">
            <i class="fas fa-user"></i>
            Username
          </label>
          <input
            name="username"
            id="username"
            type="text"
            class="form-control"
            placeholder="Enter your username"
            required
          />
        </div>

        <div class="form-group">
          <label for="password">
            <i class="fas fa-lock"></i>
            Password
          </label>
          <div class="password-input">
            <input
              name="password"
              id="password"
              type="password"
              class="form-control"
              placeholder="Enter your password"
              required
            />
            <i class="fas fa-eye-slash toggle-password"></i>
          </div>
        </div>

        <div class="form-options">
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="remember">
            <label class="form-check-label" for="remember">Remember me</label>
          </div>
          <a href="#" class="forgot-password">Forgot Password?</a>
        </div>

        <button type="submit" class="login-btn">
          <i class="fas fa-sign-in-alt"></i>
          Login
        </button>

        <div class="register-link">
          <p>Don't have an account? <a href="/signup">Register here</a></p>
        </div>
      </form>
    </div>

    <div class="login-image">
      <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267" alt="Login Background">
      <div class="image-overlay">
        <h3>Find Your Perfect Stay</h3>
        <p>Join thousands of satisfied tenants who found their ideal accommodation through us.</p>
      </div>
    </div>
  </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
  // Toggle password visibility
  const togglePassword = document.querySelector('.toggle-password');
  const passwordInput = document.querySelector('#password');

  togglePassword.addEventListener('click', function() {
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    this.classList.toggle('fa-eye');
    this.classList.toggle('fa-eye-slash');
  });

  // Form validation
  const form = document.querySelector('.login-form');
  form.addEventListener('submit', function(event) {
    if (!form.checkValidity()) {
      event.preventDefault();
      event.stopPropagation();
    }
    form.classList.add('was-validated');
  });
});

function goBack() {
  window.history.back();
}
</script>
